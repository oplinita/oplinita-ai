<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oplinita AI Pro | Multiverse Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-color: #020205; 
            --card-bg: #0b0d17; 
            --accent: #00f2ff; 
            --accent-purple: #9d00ff; 
            --text-main: #ffffff; 
            --text-muted: #94a3b8; 
            --border: #1e293b; 
            --glass: rgba(255, 255, 255, 0.02);
            --danger: #ff4757;
            --success: #2ed573;
            --warning: #ffa502;
        }

        * { box-sizing: border-box; transition: all 0.25s ease; }

        body { 
            background-color: var(--bg-color); 
            background-image: 
                radial-gradient(circle at 5% 5%, rgba(0, 242, 255, 0.08) 0%, transparent 25%),
                radial-gradient(circle at 95% 95%, rgba(157, 0, 255, 0.08) 0%, transparent 25%);
            color: var(--text-main); 
            font-family: 'Outfit', sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            padding: 20px; 
            margin: 0; 
        }

        #oplinita-root { 
            background-color: var(--card-bg); 
            width: 100%; 
            max-width: 1300px; 
            min-height: 90vh;
            padding: 40px; 
            border-radius: 40px; 
            border: 1px solid var(--border); 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }

        header { text-align: left; margin-bottom: 25px; border-bottom: 1px solid var(--border); padding-bottom: 20px; display: flex; justify-content: space-between; align-items: flex-end; }
        header h1 { font-family: 'Space Grotesk', sans-serif; font-size: 32px; margin: 0; font-weight: 800; background: linear-gradient(90deg, var(--accent), var(--accent-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { color: var(--text-muted); font-size: 14px; margin: 5px 0 0 0; }

        /* Navegaci√≥n por M√≥dulos */
        .module-nav { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 30px; }
        .nav-item { 
            background: var(--glass); 
            border: 1px solid var(--border); 
            color: var(--text-muted); 
            padding: 12px 5px; 
            border-radius: 18px; 
            cursor: pointer; 
            font-size: 11px; 
            font-weight: 700; 
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-transform: uppercase;
        }
        .nav-item span { font-size: 18px; }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: var(--text-main); border-color: var(--accent); }
        .nav-item.active { background: var(--text-main); color: var(--bg-color); border-color: var(--text-main); box-shadow: 0 0 15px rgba(255,255,255,0.1); }

        .grid-layout { display: grid; grid-template-columns: 420px 1fr; gap: 30px; flex-grow: 1; }
        @media (max-width: 1050px) { .grid-layout { grid-template-columns: 1fr; } }

        /* √Årea de Trabajo */
        .workspace { display: flex; flex-direction: column; gap: 20px; }
        .module-info h2 { font-size: 20px; margin: 0 0 5px 0; color: var(--accent); }
        .module-info p { font-size: 13px; color: var(--text-muted); margin: 0; }

        .label { font-size: 10px; font-weight: 800; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; display: block; }
        
        .input-area, select { 
            background: #000; 
            border: 1px solid var(--border); 
            color: var(--text-main); 
            width: 100%; 
            padding: 16px; 
            border-radius: 18px; 
            font-size: 14px; 
            line-height: 1.6; 
            outline: none;
        }
        .input-area:focus { border-color: var(--accent); }

        .action-bar { display: grid; grid-template-columns: 1fr 2fr; gap: 10px; margin-top: 10px; }
        .btn { border: none; padding: 16px; border-radius: 18px; font-weight: 800; cursor: pointer; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-clear { background: rgba(255, 71, 87, 0.1); color: var(--danger); border: 1px solid rgba(255, 71, 87, 0.15); }
        .btn-primary { background: var(--text-main); color: var(--bg-color); }

        /* Calendario Independiente */
        .challenge-container { background: #000; padding: 20px; border-radius: 22px; border: 1px solid var(--border); }
        .challenge-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-top: 10px; }
        .day-box { 
            aspect-ratio: 1; 
            background: var(--glass); 
            border: 1px solid var(--border); 
            border-radius: 8px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 11px; 
            cursor: pointer;
            font-weight: 800;
        }
        .day-box.completed { background: var(--success); color: var(--bg-color); border-color: var(--success); box-shadow: 0 0 10px rgba(46, 213, 115, 0.3); }

        /* Resultados */
        .output-wrapper { 
            background: var(--glass); 
            border: 1px solid var(--border); 
            border-radius: 32px; 
            padding: 25px; 
            display: flex; 
            flex-direction: column; 
            gap: 15px; 
            overflow: hidden;
        }
        .output-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); padding-bottom: 12px; }
        .output-header span { font-size: 11px; font-weight: 800; letter-spacing: 2px; color: var(--accent-purple); text-transform: uppercase; }
        
        .result-content { 
            flex-grow: 1; 
            overflow-y: auto; 
            white-space: pre-wrap; 
            font-size: 14px; 
            line-height: 1.7; 
            color: #e2e8f0; 
            scrollbar-width: thin;
        }

        .loader { width: 16px; height: 16px; border: 2px solid var(--bg-color); border-bottom-color: transparent; border-radius: 50%; display: inline-block; animation: rotation 0.8s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .hidden { display: none !important; }
        .status-badge { display: flex; align-items: center; font-size: 10px; color: var(--success); font-weight: bold; gap: 6px; }
        .dot { width: 6px; height: 6px; background: var(--success); border-radius: 50%; }
        
        .user-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border); font-size: 10px; color: var(--text-muted); display: flex; justify-content: space-between; }
    </style>
</head>
<body>

<div id="oplinita-root">
    <header>
        <div>
            <h1>OPLINITA PRO</h1>
            <p>Multiverse AI Creative Studio</p>
        </div>
        <div class="status-badge">
            <div class="dot"></div> MODO COLABORATIVO ACTIVO
        </div>
    </header>

    <nav class="module-nav">
        <div class="nav-item active" onclick="switchModule('youtube', this)">
            <span>üì∫</span> YouTube
        </div>
        <div class="nav-item" onclick="switchModule('musica', this)">
            <span>üéµ</span> M√∫sica
        </div>
        <div class="nav-item" onclick="switchModule('social', this)">
            <span>üì±</span> Redes
        </div>
        <div class="nav-item" onclick="switchModule('thumbnail', this)">
            <span>üñºÔ∏è</span> Miniatura
        </div>
        <div class="nav-item" onclick="switchModule('strategy', this)">
            <span>üöÄ</span> Estrategia
        </div>
        <div class="nav-item" onclick="switchModule('challenge', this)">
            <span>üî•</span> Mi Reto
        </div>
    </nav>

    <div class="grid-layout">
        <div class="workspace">
            <div class="module-info">
                <h2 id="mod-title">YouTube Expert</h2>
                <p id="mod-desc">Metadatos SEO a partir de un t√≠tulo.</p>
            </div>

            <!-- Entrada Principal -->
            <div id="input-container" class="input-wrapper">
                <span class="label" id="input-label">T√≠tulo o Tema</span>
                <textarea id="main-input" class="input-area" style="min-height: 150px;" placeholder="Ingresa los datos..."></textarea>
            </div>

            <!-- Selectores Espec√≠ficos -->
            <div id="social-selector" class="hidden">
                <span class="label">Plataforma</span>
                <select id="network-select">
                    <option value="instagram">Instagram (Reels/Post)</option>
                    <option value="facebook">Facebook (Post Largo)</option>
                    <option value="tiktok">TikTok (Viral Script)</option>
                </select>
            </div>

            <div id="strategy-selector" class="hidden">
                <span class="label">Opci√≥n Estrat√©gica</span>
                <select id="strat-type-select">
                    <option value="horarios">Mejores Horarios de Publicaci√≥n</option>
                    <option value="temas">Temas de Informaci√≥n Valiosa</option>
                    <option value="ganchos">Ganchos (Hooks) de Retenci√≥n</option>
                </select>
            </div>

            <!-- M√≥dulo de Reto -->
            <div id="challenge-section" class="hidden">
                <div class="challenge-container">
                    <span class="label">Calendario Compartido (30 D√≠as)</span>
                    <div class="challenge-grid" id="calendar-grid"></div>
                </div>
                <div class="input-wrapper" style="margin-top:15px;">
                    <span class="label">Notas de Avance del Equipo</span>
                    <textarea id="challenge-notes" class="input-area" style="min-height: 80px;" placeholder="¬øQu√© logramos hoy? Comparte avances con tu familiar..."></textarea>
                </div>
            </div>

            <div class="action-bar">
                <button class="btn btn-clear" onclick="clearAll()">Borrar</button>
                <button class="btn btn-primary" id="exec-btn" onclick="processAI()">
                    <span id="btn-text">Generar para el Equipo</span>
                </button>
            </div>

            <div class="user-footer">
                <span id="user-id-display">ID DE EQUIPO: CARGANDO...</span>
                <span>v1.5 PRO COLAB</span>
            </div>
        </div>

        <div class="output-wrapper">
            <div class="output-header">
                <span id="output-tag">CONTENIDO PARA EL PROYECTO</span>
                <button onclick="copyResult()" style="background: none; border: none; color: var(--accent); font-size: 10px; font-weight: 900; cursor: pointer;">COPIAR TEXTO</button>
            </div>
            <div id="result-box" class="result-content">Configura tu m√≥dulo y haz clic en "Generar para el Equipo".</div>
        </div>
    </div>
</div>

<script>
    const apiKey = ""; // La llave se conecta al ejecutar
    let activeModule = 'youtube';

    // Generar un ID de sesi√≥n simple para simular trabajo en equipo
    const sessionId = Math.random().toString(36).substring(7).toUpperCase();
    document.getElementById('user-id-display').innerText = "ID DE EQUIPO: " + sessionId;

    const modules = {
        'youtube': {
            title: 'YouTube Expert',
            desc: 'SEO y metadatos profesionales para el canal.',
            label: 'T√≠tulo del Video del Equipo',
            prompt: 'Experto en YouTube. Genera descripci√≥n con emojis y hashtags para el video:'
        },
        'musica': {
            title: 'Edu-M√∫sica Studio',
            desc: 'Letras para nuestras canciones infantiles.',
            label: 'Tema de nuestra canci√≥n',
            prompt: 'Compositor infantil. Crea una letra r√≠tmica para ni√±os sobre:'
        },
        'social': {
            title: 'Social Media Colab',
            desc: 'Posts listos para nuestras redes.',
            label: 'Idea del contenido grupal',
            prompt: '' 
        },
        'thumbnail': {
            title: 'Thumbnail Master',
            desc: 'Instrucciones para crear la miniatura.',
            label: 'Contexto visual para la miniatura',
            prompt: 'Crea un prompt detallado para una miniatura viral sobre:'
        },
        'strategy': {
            title: 'Estrategia de Crecimiento',
            desc: 'Plan de acci√≥n para el proyecto.',
            label: 'Nicho del Proyecto Familiar',
            prompt: ''
        },
        'challenge': {
            title: 'Reto 30 D√≠as en Equipo',
            desc: 'Planificador de constancia compartido.',
            label: 'Meta del Reto (Ej: Crecer 100 seguidores juntos)',
            prompt: 'Coach de √©xito. Crea un plan de 30 d√≠as para un equipo que tiene este objetivo:'
        }
    };

    function initCalendar() {
        const grid = document.getElementById('calendar-grid');
        grid.innerHTML = '';
        for (let i = 1; i <= 30; i++) {
            const day = document.createElement('div');
            day.className = 'day-box';
            day.innerText = i;
            day.onclick = () => day.classList.toggle('completed');
            grid.appendChild(day);
        }
    }

    function switchModule(mod, el) {
        activeModule = mod;
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');

        const m = modules[mod];
        document.getElementById('mod-title').innerText = m.title;
        document.getElementById('mod-desc').innerText = m.desc;
        document.getElementById('input-label').innerText = m.label;
        
        document.getElementById('social-selector').classList.toggle('hidden', mod !== 'social');
        document.getElementById('strategy-selector').classList.toggle('hidden', mod !== 'strategy');
        document.getElementById('challenge-section').classList.toggle('hidden', mod !== 'challenge');
        
        if(mod === 'challenge') initCalendar();
        document.getElementById('result-box').innerText = "M√≥dulo " + m.title + " activado para el equipo.";
    }

    function clearAll() {
        document.getElementById('main-input').value = "";
        document.getElementById('challenge-notes').value = "";
    }

    function copyResult() {
        const text = document.getElementById('result-box').innerText;
        navigator.clipboard.writeText(text);
        const tag = document.getElementById('output-tag');
        tag.innerText = "¬°COPIADO!";
        setTimeout(() => tag.innerText = "CONTENIDO PARA EL PROYECTO", 2000);
    }

    async function processAI() {
        const input = document.getElementById('main-input').value;
        const out = document.getElementById('result-box');
        const btnText = document.getElementById('btn-text');

        if(!input.trim() && activeModule !== 'challenge') return;

        btnText.innerHTML = '<span class="loader"></span> Procesando...';
        out.innerText = "Consultando con la central de Oplinita...";

        let finalPrompt = modules[activeModule].prompt;
        
        if(activeModule === 'social') {
            const net = document.getElementById('network-select').value;
            finalPrompt = `Experto en redes. Crea un post para ${net} listo para publicar para:`;
        } else if(activeModule === 'strategy') {
            const type = document.getElementById('strat-type-select').value;
            if(type === 'horarios') finalPrompt = "Dame horarios y tips de publicaci√≥n para el equipo en el nicho:";
            else if(type === 'temas') finalPrompt = "Dime 5 temas de alto valor para educar en el nicho:";
            else finalPrompt = "Crea 5 ganchos irresistibles para atraer gente a:";
        }

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: input || "Objetivo de reto compartido" }] }],
                    systemInstruction: { parts: [{ text: finalPrompt + " S√© muy pr√°ctico, profesional y fomenta el trabajo en equipo." }] }
                })
            });

            const data = await response.json();
            out.innerText = data.candidates[0].content.parts[0].text;
        } catch (e) {
            out.innerText = "Error: Sin conexi√≥n al servidor central.";
        } finally {
            btnText.innerText = "Generar para el Equipo";
        }
    }
</script>
</body>
</html>
